<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RustyGPT API Documentation</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <style>
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        padding-top: 2rem;
        padding-bottom: 2rem;
      }
      .hero {
        background-color: #f8f9fa;
        padding: 3rem 0;
        margin-bottom: 2rem;
        border-radius: 0.5rem;
      }
      .section {
        margin-bottom: 3rem;
      }
      .card {
        transition: transform 0.3s ease;
        margin-bottom: 1.5rem;
        height: 100%;
      }
      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      }
      .footer {
        margin-top: 3rem;
        padding-top: 2rem;
        border-top: 1px solid #eee;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="hero text-center">
        <h1>RustyGPT API Documentation</h1>
        <p class="lead">Comprehensive API documentation for the RustyGPT project components.</p>
        <p>
          <a href="../index.html" class="btn btn-primary">Back to Main Documentation</a>
        </p>
      </div>

      <div class="section">
        <h2>API Reference</h2>
        <p>
          This section provides detailed API documentation for each component of the RustyGPT project. The documentation
          is automatically generated from the Rust source code using rustdoc.
        </p>

        <div class="alert alert-info">
          <strong>Note:</strong> The API documentation will be automatically generated when the GitHub Pages workflow
          runs. This placeholder page will be replaced with links to the generated documentation.
        </div>

        <div class="row mt-4">
          <div class="col-md-4">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Backend API</h5>
                <p class="card-text">
                  Documentation for the backend server components, including routes, handlers, and services.
                </p>
                <p class="text-muted">Coming soon</p>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Frontend API</h5>
                <p class="card-text">
                  Documentation for the frontend components, including UI components and state management.
                </p>
                <p class="text-muted">Coming soon</p>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Shared API</h5>
                <p class="card-text">
                  Documentation for shared models and utilities used by both frontend and backend.
                </p>
                <p class="text-muted">Coming soon</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2>HTTP API Endpoints</h2>
        <p>The RustyGPT backend exposes the following HTTP API endpoints:</p>

        <h3>Authentication</h3>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Endpoint</th>
              <th>Method</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>/api/oauth/github</code></td>
              <td>GET</td>
              <td>Initiate GitHub OAuth flow</td>
            </tr>
            <tr>
              <td><code>/api/oauth/github/callback</code></td>
              <td>GET</td>
              <td>Handle GitHub OAuth callback</td>
            </tr>
            <tr>
              <td><code>/api/oauth/github/manual</code></td>
              <td>POST</td>
              <td>Manual GitHub OAuth (for testing)</td>
            </tr>
            <tr>
              <td><code>/api/oauth/apple</code></td>
              <td>GET</td>
              <td>Initiate Apple OAuth flow</td>
            </tr>
            <tr>
              <td><code>/api/oauth/apple/callback</code></td>
              <td>GET</td>
              <td>Handle Apple OAuth callback</td>
            </tr>
            <tr>
              <td><code>/api/oauth/apple/manual</code></td>
              <td>POST</td>
              <td>Manual Apple OAuth (for testing)</td>
            </tr>
          </tbody>
        </table>

        <h3>Protected Routes</h3>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Endpoint</th>
              <th>Method</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>/api/conversations</code></td>
              <td>GET</td>
              <td>Get all conversations for the authenticated user</td>
            </tr>
            <tr>
              <td><code>/api/conversations/{conversation_id}/messages</code></td>
              <td>POST</td>
              <td>Send a message to a conversation</td>
            </tr>
            <tr>
              <td><code>/api/stream/{user_id}</code></td>
              <td>GET</td>
              <td>Connect to the SSE stream for real-time message updates</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="section">
        <h2>Additional Resources</h2>
        <ul>
          <li><a href="../architecture.md">Architecture Documentation</a></li>
          <li><a href="../getting-started.md">Getting Started Guide</a></li>
          <li><a href="https://github.com/VannaDii/RustyGPT/blob/main/CONTRIBUTING.md">Contributing Guidelines</a></li>
        </ul>
      </div>

      <div class="footer">
        <p>
          <a href="https://github.com/VannaDii/RustyGPT" target="_blank">GitHub</a> |
          <a href="https://github.com/VannaDii/RustyGPT/blob/main/LICENSE" target="_blank">MIT License</a>
        </p>
        <p class="text-muted">Â© 2025 RustyGPT Contributors</p>
      </div>
    </div>
  </body>
</html>
